(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{1844:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return v}));r(14),r(17),r(25),r(24),r(19),r(12),r(18);var n=r(13),a=r(8),i=r(5),o=(r(47),r(30),r(38));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return r=t.app,t.store,n=t.locale,e.prev=1,e.next=4,r.$categoriesRepository.index({locale:n});case 4:return a=e.sent,i=a.categories,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e["catch"](1),console.warn("cannot get categories"),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u,l,p;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return a=t.app,i=t.store,o=null===(r=a.i18n||a.$i18n)||void 0===r||null===(n=r.localeProperties)||void 0===n?void 0:n.iso,s={page:1,per_page:21,random_previews_count:1,locale:o},u=[],e.prev=5,e.next=8,i.dispatch("cache/get",{key:c(c({},s),{},{keyType:"categories-previews-trending"})});case 8:if(!(p=e.sent)){e.next=13;break}u=p,e.next=17;break;case 13:return e.next=15,a.$categoriesPreviewsRepository.index(s);case 15:u=e.sent,i.dispatch("cache/set",{key:c(c({},s),{},{keyType:"categories-previews-trending"}),value:u});case 17:return e.abrupt("return",((null===(l=u)||void 0===l?void 0:l.categories)||[]).map((function(e){return{icon:"",prettyId:e.pretty_id,cover:e.random_previews[0],title:e.title}})));case 20:return e.prev=20,e.t0=e["catch"](5),console.error(e.t0),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,null,[[5,20]])})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a,i,s,u,l,p,d,v,y,f,h,b,g,m,O,w;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return a=t.app,i=t.store,s=t.currentCategoryPath,u=t.stylePrettyId,l=t.subjectPrettyId,p=t.formattedParams,d=t.locale,v=i.state.categories.all,y=Object(o["g"])({category:(null==s?void 0:s[0])||(null===(r=Object(o["e"])(l,v))||void 0===r?void 0:r[0]),locale:d,style:u,subjectPrettyId:l}),f=y.categoryParams,(h=y.hasCategory)&&i.dispatch("setCurrentCategory",s),e.prev=4,b=c(c({},p),f),l&&(delete b.category_pretty_ids,delete b.parent_id),g=c(c({},b),{},{keyType:"current categories"}),e.next=10,i.dispatch("cache/get",{key:g});case 10:if(!(m=e.sent)){e.next=13;break}return e.abrupt("return",Object(n["a"])(m));case 13:if(!h||null!=f&&f.parent_id){e.next=15;break}return e.abrupt("return",[]);case 15:return e.next=17,a.$categoriesRepository.index(b);case 17:return O=e.sent,w=O.categories,i.dispatch("cache/set",{key:g,value:w}),e.abrupt("return",w);case 23:return e.prev=23,e.t0=e["catch"](4),console.error("cannot get categories"),e.abrupt("return",[]);case 27:case"end":return e.stop()}}),e,null,[[4,23]])})))).apply(this,arguments)}},1845:function(e,t,r){"use strict";r(1846)},1846:function(e,t,r){"use strict";var n=r(16),a=r(50),i=r(88),o=r(244),s=r(386),c=r(208);n({target:"Promise",stat:!0,forced:r(496)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,l=s((function(){var r=i(t.resolve),o=[],s=0,u=1;c(e,(function(e){var i=s++,c=!1;u++,a(r,t,e).then((function(e){c||(c=!0,o[i]={status:"fulfilled",value:e},--u||n(o))}),(function(e){c||(c=!0,o[i]={status:"rejected",reason:e},--u||n(o))}))})),--u||n(o)}));return l.error&&u(l.value),r.promise}})},1866:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return v})),r.d(t,"e",(function(){return h})),r.d(t,"c",(function(){return m}));r(14),r(17),r(25),r(24),r(19),r(12),r(18);var n=r(8),a=r(5),i=(r(47),r(30),r(29)),o=r(38);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,s,u,l,p,d;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return r=t.app,n=t.store,a=t.formattedParams,s=t.locale,e.prev=1,u=Object(o["k"])({formattedParams:a,locale:s,perPage:i["k"]}),l=c(c({},u),{},{keyType:"illustrations"}),e.next=6,n.dispatch("cache/get",{key:l});case 6:if(!(p=e.sent)){e.next=9;break}return e.abrupt("return",c({},p));case 9:return e.next=11,r.$illustrationsRepository.index(u);case 11:return d=e.sent,n.dispatch("cache/set",{key:l,value:d}),e.abrupt("return",c({},d));case 16:return e.prev=16,e.t0=e["catch"](1),console.error(e.t0),e.abrupt("return",{illustrations:[],total:0});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,o,s,u;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return r=t.id,n=t.locale,a=t.store,i=t.app,o={locale:n,id:r},e.prev=2,e.next=5,a.dispatch("cache/get",{key:c(c({},o),{},{keyType:"illustration"})});case 5:if(!(s=e.sent)){e.next=8;break}return e.abrupt("return",c({},s));case 8:return e.next=10,i.$illustrationsRepository.show(r,o);case 10:return u=e.sent,a.dispatch("cache/set",{key:c(c({},o),{},{keyType:"illustration"}),value:u}),e.abrupt("return",u);case 15:e.prev=15,e.t0=e["catch"](2),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s,u;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return r=t.app,n=t.store,a=[],o={previews_count:i["c"]},e.prev=3,e.next=6,n.dispatch("cache/get",{key:c(c({},o),{},{keyType:"events-previews"})});case 6:if(!(s=e.sent)){e.next=11;break}u=s,e.next=15;break;case 11:return e.next=13,r.$eventsRepository.index(o);case 13:u=e.sent,n.dispatch("cache/set",{key:c(c({},o),{},{keyType:"events-previews"}),value:u});case 15:a=u.events.map((function(e){return{icon:"",isEvent:!0,prettyId:e.pretty_id,previews:e.previews||[],title:e.title,total:e.total}})),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](3),console.error(e.t0);case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}var f={illustrations:[],total:0};function h(e){return b.apply(this,arguments)}function b(){return(b=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s,u,l,p,d,v,y,h,b;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(r=t.app,n=t.store,a=t.page,o=void 0===a?1:a,s=t.locale,u=t.perPage,l=void 0===u?i["C"]:u,p=t.stylePrettyId,d=t.illustrationId,p){e.next=3;break}return e.abrupt("return",f);case 3:return y=c(c({},v={page:o,per_page:l,style_pretty_ids:p,locale:s}),{},{id:d,type:"similars"}),e.prev=5,e.next=8,n.dispatch("cache/get",{key:y});case 8:if(!(h=e.sent)){e.next=11;break}return e.abrupt("return",c({},h));case 11:return e.next=13,r.$illustrationsRepository.show(d,v,"similars");case 13:return b=e.sent,n.dispatch("cache/set",{key:y,value:b}),e.abrupt("return",b);case 18:return e.prev=18,e.t0=e["catch"](5),console.log(e.t0),e.abrupt("return",f);case 22:case"end":return e.stop()}}),e,null,[[5,18]])})))).apply(this,arguments)}var g={categories:[],total:0};function m(e){return O.apply(this,arguments)}function O(){return(O=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,o,s,u,l,p,d,v,y,f;return regeneratorRuntime.wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(r=t.app,n=t.store,a=t.page,o=void 0===a?1:a,s=t.perPage,u=void 0===s?i["z"]:s,l=t.locale,p=t.illustrationId){e.next=3;break}return e.abrupt("return",g);case 3:return v=c(c({},d={related_illustration_id:p,page:o,per_page:u,random_previews_count:4,locale:l}),{},{keyType:"illustration-related-categories"}),e.prev=5,e.next=8,n.dispatch("cache/get",{key:v});case 8:if(!(y=e.sent)){e.next=11;break}return e.abrupt("return",c({},y));case 11:return e.next=13,r.$categoriesPreviewsRepository.index(d);case 13:return f=e.sent,n.dispatch("cache/set",{key:v,value:f}),e.abrupt("return",c({},f));case 18:return e.prev=18,e.t0=e["catch"](5),console.log(e.t0),e.abrupt("return",g);case 22:case"end":return e.stop()}}),e,null,[[5,18]])})))).apply(this,arguments)}},2193:function(e,t,r){"use strict";r.r(t);var n=r(26),a=r(8),i=r(5),o=(r(30),r(22),r(12),r(14),r(17),r(25),r(24),r(19),r(23),r(33),r(51),r(18),r(1845),r(31),r(15)),s=r(75),c=r.n(s),u=r(38),l=r(497),p=r(66),d=r(1844),v=r(1866);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={name:"IllustrationPage",mixins:[l["a"]],layout:"content",asyncData:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,i,o,s,l,p,y,h,b,g,m,O,w,k,j,x,P,R,I,_,S,E,C,T,D,A,$,L,W,U,G,N,q,H,M,J,V,z,F;return regeneratorRuntime.wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:if(r=e.params,a=e.app,i=e.error,o=e.route,s=e.store,e.res,l=e.redirect,p="secret"in o.query?o.query.secret:"",y=a.i18n.localeProperties.iso,t.prev=3,s.commit("CLEAR_PRELOAD_IMAGE"),s.state.categories.all.length){t.next=10;break}return t.next=8,Object(d["a"])({app:a,store:s,locale:y});case 8:R=t.sent,s.dispatch("setCategories",R);case 10:return I=r.id.replace(/--animated$/,""),S={locale:y},t.prev=12,t.next=15,s.dispatch("cache/get",{key:f(f({},S),{},{id:I,keyType:"illustration"})});case 15:if(!(E=t.sent)){t.next=20;break}_=E,t.next=26;break;case 20:return t.next=22,c.a.request({method:"get",baseURL:"https://api-ouch.icons8.com/api/frontend/v1/",url:"illustrations/".concat(I),params:{locale:y}});case 22:C=t.sent,T=C.data,_=T,s.dispatch("cache/set",{key:f(f({},S),{},{id:I,keyType:"illustration"}),value:_});case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](12),console.error(t.t0);case 31:return D=/--animated$/.test(r.id),I!==_.pretty_id&&l(301,"/illustrations/illustration/".concat(_.pretty_id).concat(D?"--animated":"")),A="OUCH_V2.SEO.ILLUSTRATION_PAGE.TITLE".concat(D?"_ANIMATED":""),$=null===(h=_)||void 0===h||null===(b=h.styles)||void 0===b||null===(g=b[0])||void 0===g?void 0:g.title,L=null===(m=_)||void 0===m||null===(O=m.styles)||void 0===O||null===(w=O[0])||void 0===w?void 0:w.pretty_id,W=_.heading||"Illustration",U={heading:W.toLowerCase()},$&&(U.styles=$.toLowerCase()),s.dispatch("updateSEO",{title:a.i18n.t(A,{heading:Object(u["a"])(W)}),description:a.i18n.t("OUCH_V2.SEO.ILLUSTRATION_PAGE.DESCRIPTION",U),image:(null===(k=_)||void 0===k||null===(j=k.og_preview1x)||void 0===j?void 0:j.url)||"".concat("https://maxst.icons8.com"||!1,"/vue-static/ouch/seo/opengraph.png")}),t.next=42,Promise.allSettled([Object(v["e"])({app:a,illustrationId:_.id,locale:y,store:s,stylePrettyId:L}),Object(v["c"])({app:a,store:s,locale:y,illustrationId:_.id})]);case 42:return G=t.sent,N=Object(n["a"])(G,2),q=N[0].value,H=N[1].value,M=q.illustrations,J=q.total,V=H.categories,z=H.total,F=(null===(x=_)||void 0===x||null===(P=x.preview1x)||void 0===P?void 0:P.url)||"",s.commit("SET_PRELOAD_IMAGE",F),t.abrupt("return",{illustration:_,relatedCategories:V,sameStyleIllustrations:M,secret:p,showInitAnimated:D,thumbImageSrc:F,totalRelatedCategories:z,totalSameStyleIllustrations:J});case 53:t.prev=53,t.t1=t["catch"](3),console.error(t.t1),s.commit("HREFLANG_DELETE"),i({statusCode:404,message:"Whoops, couldn't find illustration with this id"});case 58:case"end":return t.stop()}}),t,null,[[3,53],[12,28]])})))()},data:function(){return{locale:this.$i18n.localeProperties.iso,illustration:{purchased:!1},previewWithoutWatermarks:null,relatedCategories:[],sameStyleIllustrations:[],showInitAnimated:!1,secret:"",thumbImageSrc:"",totalRelatedCategories:0,totalSameStyleIllustrations:0}},computed:f(f(f({},Object(o["e"])({user:function(e){return e.auth.user}})),Object(o["c"])(["limits"])),{},{hasSubscription:function(){var e,t;return(null===(e=this.limits)||void 0===e?void 0:e.isUnlimited)||(null===(t=this.limits)||void 0===t?void 0:t.value)>0},thumbImage:function(){return{url:this.thumbImageSrc}}}),watch:{user:{deep:!0,handler:function(e,t){var r;!(null!=t&&t.loaded)&&(null==e?void 0:e.loaded)&&Object(p["getCookie"])("i8token")&&null!==(r=this.illustration)&&void 0!==r&&r.id&&this.getPreviewWithoutWatermarks()}}},methods:{getPreviewWithoutWatermarks:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v["b"])({app:e,store:e.$store,id:null===(r=e.illustration)||void 0===r?void 0:r.id,locale:e.$i18n.localeProperties.iso});case 3:e.illustration=t.sent,e.previewWithoutWatermarks=e.illustration.preview1x.url,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("cannot get illustration preview w/o watermarks");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},b=r(4),g=Object(b["a"])(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"illustration-page"},[t("ouch-full-illustration",{attrs:{"has-full-info":"","illustration-page":"",illustration:e.illustration,sameStyleIllustrations:e.sameStyleIllustrations,totalSameStyle:e.totalSameStyleIllustrations,"preview-without-watermarks":e.previewWithoutWatermarks,secret:e.secret,relatedStyles:e.relatedCategories,"thumb-image":e.thumbImage,totalRelatedStyles:e.totalRelatedCategories,"show-init-animated":e.showInitAnimated}})],1)}),[],!1,null,null,null);t["default"]=g.exports}}]);